<%- include('../layouts/header') %>
    <section class="contact-page">
        <div class="container">
            <div class="row">
                <div class="col-md-12 col-lg-6">
                    <div class="form-container">
                        <h2>Get in touch</h2>
                        <form class="row g-3 needs-validation" novalidate>
                            <div class="col-md-6">
                                <label for="validationCustom01" class="form-label">First name</label>
                                <input type="text" class="form-control" id="validationCustom01" value="Mark" required>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                            </div>
                            <div class="col-md-6">
                                <label for="validationCustom02" class="form-label">Last name</label>
                                <input type="text" class="form-control" id="validationCustom02" value="Otto" required>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                            </div>
                            <div class="col-md-12">
                                <label for="validationCustomEmail" class="form-label">Email</label>
                                <div class="input-group has-validation">
                                    <span class="input-group-text" id="inputGroupPrepend">@</span>
                                    <input type="email" class="form-control" id="validationCustomEmail"
                                        aria-describedby="inputGroupPrepend" required>
                                    <div class="invalid-feedback">
                                        Please choose a username.
                                    </div>
                                </div>
                            </div>
    
                            <div class="col-md-12">
                                <label for="validationCustom04" class="form-label">Purpose of contact</label>
                                <select class="form-select" id="validationCustom04" required>
                                    <option selected disabled value="">Choose...</option>
                                    <option>To get registered</option>
                                    <option>I need more information</option>
                                    <option>Requesting a demo</option>
                                </select>
                                <div class="invalid-feedback">
                                    Please select a valid title.
                                </div>
                                <br>
                                <small class="pt-3">
                                    If you need to get registered, please provide the following details in the text box,
                                    addition your Name, and Email address. <br>
                                    Location, Phone number, Industry, and Company name.
                                </small>
                            </div>
    
                            <div class="col-md-12 position-relative">
                                <label for="validationTooltip03" class="form-label">Message</label>
                                <textarea class="form-control" id="validationTooltip03" rows="8" required></textarea>
                                <div class="invalid-tooltip">
                                    Please provide a valid message.
                                </div>
                            </div>
    
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                                    <label class="form-check-label" for="invalidCheck">
                                        Agree to terms and conditions
                                    </label>
                                    <div class="invalid-feedback">
                                        You must agree before submitting.
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <button class="cgi-btn" type="submit">Submit form</button>
                            </div>
                        </form>
                        <br>
                    </div>
                </div>
                <div class="col-md-12 col-lg-6">
                    <div class="contact-details-container">
                        <img src="/images/cgi-history.jpg.webp" alt="Contact us">
                        <div class="contact-details">
                            <h3>Our contact details</h3>
                            <address class="d-flex">
                                <p>
                                    <i class="fa-solid fa-location-dot"></i> Colgate Lane, Salford Quays, Manchester. M5 3LZ
                                </p>
                            </address>
    
                            <div class="contact-phone d-flex">
                                <p>
                                    <i class="fa-solid fa-phone-volume"></i>
                                    <a href="phone:+44 (0)20 7637 9111">+44 (0)20 7637 9111</a>
                                </p>
                            </div>
    
                            <div class="contact-email d-flex">
                                <p class="ml-2">
                                    <i class="fa-solid fa-envelope-open-text"></i>
                                    <a href="mailto:salford@cgi.com">salford@cgi.com</a>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    
            <div class="row">
                <div class="col-sm-12 py-5">
                    <div class="map">
                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2375.0481326329705!2d-2.2815119873673386!3d53.467599872209256!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x487bae103998676f%3A0xcf23f09b3e5d7f91!2sSoapworks!5e0!3m2!1sen!2sng!4v1721900578070!5m2!1sen!2sng"
                            width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
    
        </div>

            <!-- Chatbot Icon -->
            <div id="chatbotIcon">
                <i class="fa-solid fa-comments"></i>
            </div>
            
            <!-- Chatbot Container -->
            <div id="chatbotContainer">
                <div id="chatbotHeader">CRM Connect AI</div>
                <div id="chatbotBody">
                    <!-- Chatbot messages will appear here -->
                </div>
                <div id="chatbotInput">
                    <input type="text" id="chatbotMessage" placeholder="Ask a question..." />
                    <button id="sendMessageBtn">Send</button>
                </div>
            </div>
            
    </section>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        // Slide up/down chatbot when icon is clicked
        $('#chatbotIcon').on('click', function () {
            const chatbotContainer = $('#chatbotContainer');
            if (chatbotContainer.css('bottom') === '-400px') {
                chatbotContainer.css('bottom', '20px');
            } else {
                chatbotContainer.css('bottom', '-400px');
            }
        });

        // Send message to chatbot
        $('#sendMessageBtn').on('click', function () {
            const message = $('#chatbotMessage').val();
            if (message.trim() === '') return;

            // Display user message
            $('#chatbotBody').append('<div><strong>You:</strong> ' + message + '</div>');
            $('#chatbotMessage').val('');

            // Send message to server (to your chatbot API)
            $.post('/chatbot', { message: message }, function (response) {
                // Display chatbot response
                $('#chatbotBody').append('<div><strong>Bot:</strong> ' + response.answer + '</div>');
                $('#chatbotBody').scrollTop($('#chatbotBody')[0].scrollHeight);
            });
        });

        // Send message when Enter key is pressed
        $('#chatbotMessage').on('keypress', function (e) {
            if (e.which == 13) {
                $('#sendMessageBtn').click();
            }
        });
    </script>

<%- include('../layouts/footer') %>